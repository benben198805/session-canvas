<script type="text/javascript">
    window.onload = function() {
        //try and create a canvas element
        var testCanvas = document.createElement('canvas');

        //check if object supports getContext() method
        if (testCanvas.getContext !== undefined) {
            var canvas = document.getElementById("effectsCanvas");
            var context = canvas.getContext("2d");

            context.strokeStyle = 'white';
            context.lineWidth = 17;
            context.lineCap = 'round';
            context.shadowBlur = 15;
            context.shadowColor = 'white';

            function degToRad(degree) {
                var factor = Math.PI / 180;
                return factor * degree;
            }

            function renderTime() {
                var now = new Date();
                var today = now.toDateString();
                var time = now.toLocaleTimeString();
                var hours = now.getHours();
                var minites = now.getMinutes();
                var seconds = now.getSeconds();
                var milliseconds = now.getMilliseconds();
                var newSeconds = seconds * (milliseconds / 1000);

                context.fillStyle = 'black';
                context.fillRect(0, 0, 500, 500);

                context.beginPath();
                context.arc(250, 250, 200, degToRad(270), degToRad((hours * 30) - 90));
                context.stroke();

                context.beginPath();
                context.arc(250, 250, 170, degToRad(270), degToRad((minites * 6) - 90));
                context.stroke();

                context.beginPath();
                context.arc(250, 250, 140, degToRad(270), degToRad((newSeconds * 6) - 90));
                context.stroke();

                context.font = "15px Arial";
                context.fillStyle = 'white';
                context.fillText(time, 175, 200);

                context.font = "20px Arial";
                context.fillStyle = 'white';
                context.fillText(today, 175, 250);
            }

            setInterval(renderTime, 1000);




        } else {
            document.writeln('You are plum outta luck, cuz your browser does not support the canvas element.');
        }
    };
</script>
</head>

<body>
    <h1>HTML5 Canvas Clock</h1>
    <canvas id="effectsCanvas" width="500" height="550"> </canvas>
